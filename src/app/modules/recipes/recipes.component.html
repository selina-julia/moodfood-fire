<div class="flex items-center mb-16 gap-x-10">
  <app-filter></app-filter>
  <app-search-bar (refineItems)="onSearchInputChange($event)"></app-search-bar>
</div>
<div
  class="grid gap-4 pb-16  sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"
>
  <div
    class="relative p-4 border gap-x-2 border-radius"
    *ngFor="let item of recipeList"
  >
    <img
      [src]="item.image"
      alt=""
      class="mb-3 cursor-pointer recipe-image"
      [routerLink]="['/recipes', item.uid]"
    />
    <div class="flex justify-between mb-2">
      <h2
        class="ml-3 text-2xl font-bold cursor-pointer"
        [routerLink]="['/recipes', item.uid]"
      >
        {{ item.title }}
      </h2>
      <div class="relative w-5">
        <app-icon
          class="cursor-pointer"
          (click)="onDotsClicked()"
          iconName="dots"
        ></app-icon>

        <!-- edit and delete box -->
        <div
          *ngIf="showOptions"
          class="absolute bottom-0 px-5 bg-white rounded-md  h-fit top-1 right-6 box-shadow"
        >
          <div class="flex items-center py-2 gap-x-2">
            <div class="w-4"><app-icon iconName="edit"></app-icon></div>
            <p>Bearbeiten</p>
          </div>
          <hr />
          <div class="flex items-center py-2 gap-x-2">
            <div class="w-4"><app-icon iconName="trash"></app-icon></div>
            <p>LÃ¶schen</p>
          </div>
        </div>
      </div>
    </div>
    <div class="flex justify-between mx-3">
      <div class="flex">
        <div *ngFor="let number of getRecipeLevel(item.level)">
          <div class="flex w-7">
            <div class="w-5">
              <app-icon iconName="chef"></app-icon>
            </div>
          </div>
        </div>
      </div>
      <div>{{ item.time }} min</div>
    </div>
    <div class="flex ml-3 gap-x-2">
      <a [routerLink]="['/recipes/edit', item.uid]">Edit</a>
      <a (click)="deleteRecipe(item)">Delete</a>
    </div>

    <div
      class="absolute p-3 border border-gray-300 rounded-lg -top-2 -right-2"
      (click)="updateFavorites(item)"
      [ngClass]="getFavoriteClasses(item.isFavorite)"
    >
      <div class="w-8 h-8">
        <app-icon
          [iconName]="item.isFavorite ? 'heart-full' : 'heart'"
        ></app-icon>
      </div>
    </div>

    <app-modal
      (cancel)="onCancelClick()"
      (delete)="onModalDeleteClick(deleteItem?.uid)"
      [title]="deleteItem?.title"
      *ngIf="showModal"
    ></app-modal>
  </div>
</div>
